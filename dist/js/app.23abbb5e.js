(function(){"use strict";var e={6792:function(e,t,o){var i=o(5130),a=o(6768),n=o(4232);const s={id:"app"},l={class:"background-wrapper"};function r(e,t,o,i,r,c){const d=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",l,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.backgrounds,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{class:(0,n.C4)(["background",{active:r.currentBackgroundIndex===t}]),key:t,style:(0,n.Tr)({backgroundImage:"url("+e+")"})},null,6)))),128))]),(0,a.bF)(d)])}var c={data(){return{backgrounds:[o(2004),o(812),o(6073)],currentBackgroundIndex:0,intervalId:null}},mounted(){this.intervalId=setInterval((()=>{this.currentBackgroundIndex=(this.currentBackgroundIndex+1)%this.backgrounds.length}),3e3)},beforeUnmount(){clearInterval(this.intervalId)}},d=o(1241);const u=(0,d.A)(c,[["render",r]]);var g=u,h=o(973);const p={id:"app"},m={class:"content"},k={class:"header-menu"},C={key:0,class:"header-dropdown"},y={class:"header-dropdown-content"},L={class:"form-container"},v={key:0},f={key:0,class:"form"},b={key:1,class:"form"},w={key:1,class:"dropdown-container"},I={class:"dropdown"},E=["value"],M={class:"dropdown"},A=["value"],S={class:"dropdown"},D=["value"];function X(e,t,o,s,l,r){const c=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("div",m,[(0,a.Lk)("div",k,[l.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",C,[t[20]||(t[20]=(0,a.Lk)("button",{class:"header-dropdown-btn"},"Menu",-1)),(0,a.Lk)("div",y,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>r.navigateTo("/"))},"Home"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>r.navigateTo("/profile"))},"Profile"),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>r.navigateTo("/group-chats"))},"Group Chats"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>r.navigateTo("/designers"))},"Designers"),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>r.navigateTo("/competitions"))},"Competitions"),(0,a.Lk)("button",{onClick:t[5]||(t[5]=e=>r.navigateTo("/quiz"))},"Quiz")])])):(0,a.Q3)("",!0),l.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>r.handleLogout&&r.handleLogout(...e))},"Log Out")):(0,a.Q3)("",!0)]),t[29]||(t[29]=(0,a.Lk)("h1",{class:"title"},"InspiraHome",-1)),t[30]||(t[30]=(0,a.Lk)("h1",null,"Let your creativity shine! Choose a style and get inspired.",-1)),(0,a.Lk)("div",L,[l.isAuthenticated?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",v,[l.isLogin?((0,a.uX)(),(0,a.CE)("div",f,[t[22]||(t[22]=(0,a.Lk)("h2",null,"Login",-1)),(0,a.Lk)("form",{onSubmit:t[10]||(t[10]=(0,i.D$)(((...e)=>r.handleLogin&&r.handleLogin(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.email=e),placeholder:"Email",required:""},null,512),[[i.Jo,l.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[8]||(t[8]=e=>l.password=e),placeholder:"Password",required:""},null,512),[[i.Jo,l.password]]),t[21]||(t[21]=(0,a.Lk)("button",{type:"submit"},"Login",-1)),(0,a.Lk)("span",{class:"switch-text",onClick:t[9]||(t[9]=(...e)=>r.toggleForm&&r.toggleForm(...e))},"Switch to Sign Up")],32)])):((0,a.uX)(),(0,a.CE)("div",b,[t[24]||(t[24]=(0,a.Lk)("h2",null,"Sign Up",-1)),(0,a.Lk)("form",{onSubmit:t[15]||(t[15]=(0,i.D$)(((...e)=>r.handleSignup&&r.handleSignup(...e)),["prevent"]))},[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.username=e),placeholder:"Username",required:""},null,512),[[i.Jo,l.username]]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.email=e),placeholder:"Email",required:""},null,512),[[i.Jo,l.email]]),(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[13]||(t[13]=e=>l.password=e),placeholder:"Password",required:""},null,512),[[i.Jo,l.password]]),t[23]||(t[23]=(0,a.Lk)("button",{type:"submit"},"Sign Up",-1)),(0,a.Lk)("span",{class:"switch-text",onClick:t[14]||(t[14]=(...e)=>r.toggleForm&&r.toggleForm(...e))},"Switch to Login")],32)]))])),l.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",w,[t[28]||(t[28]=(0,a.Lk)("h2",null,"Find Your Inspiration",-1)),(0,a.Lk)("div",I,[t[25]||(t[25]=(0,a.Lk)("label",{for:"style"},"Choose a style:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"style","onUpdate:modelValue":t[16]||(t[16]=e=>l.selectedStyle=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.styleOptions,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,E)))),128))],512),[[i.u1,l.selectedStyle]])]),(0,a.Lk)("div",M,[t[26]||(t[26]=(0,a.Lk)("label",{for:"room"},"Choose a room:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"room","onUpdate:modelValue":t[17]||(t[17]=e=>l.selectedRoom=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.roomOptions,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,A)))),128))],512),[[i.u1,l.selectedRoom]])]),(0,a.Lk)("div",S,[t[27]||(t[27]=(0,a.Lk)("label",{for:"color"},"Choose a color:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"color","onUpdate:modelValue":t[18]||(t[18]=e=>l.selectedColor=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.colorOptions,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e,value:e},(0,n.v_)(e),9,D)))),128))],512),[[i.u1,l.selectedColor]])]),(0,a.Lk)("button",{onClick:t[19]||(t[19]=(...e)=>r.confirmSelection&&r.confirmSelection(...e)),class:"confirm-button"},"Confirm")])):(0,a.Q3)("",!0)]),(0,a.bF)(c)])])}o(4114);var U=o(4373);const O="http://localhost:3000/api",T=async(e,t,o)=>{const i=await U.A.post(`${O}/signup`,{username:e,email:t,password:o});return i.data},$=async(e,t)=>{const o=await U.A.post(`${O}/login`,{email:e,password:t});return o.data};var F={name:"HomePage",data(){return{isLogin:!0,isAuthenticated:!1,username:"",email:"",password:"",styleOptions:["Any","Modern","Minimalistic","Vintage","Boho","Scandinavian","Traditional"],roomOptions:["Any room","Living Room","Bedroom","Kitchen","Bathroom","Office","Hallway"],colorOptions:["Any","Red","Blue","Green","Yellow","Beige","White","Black","Orange","Brown"],selectedStyle:"",selectedRoom:"",selectedColor:""}},mounted(){const e=localStorage.getItem("token");e&&(this.isAuthenticated=!0)},methods:{toggleForm(){this.isLogin=!this.isLogin},async handleSignup(){try{await T(this.username,this.email,this.password),alert("User registered successfully!"),this.username="",this.email="",this.password="",this.isAuthenticated=!0}catch(e){console.error("Error during signup:",e.response.data),alert("Signup failed: "+e.response.data)}},async handleLogin(){try{const e=await $(this.email,this.password);localStorage.setItem("token",e.token),alert("Login successful!"),this.email="",this.password="",this.isAuthenticated=!0}catch(e){console.error("Error during login:",e.response.data),alert("Login failed: "+e.response.data)}},handleLogout(){localStorage.removeItem("token"),this.isAuthenticated=!1,alert("Logged out successfully!")},navigateTo(e){this.$router.push(e)},async confirmSelection(){if(this.selectedStyle&&this.selectedRoom&&this.selectedColor){const t=localStorage.getItem("token");if(!t)return void alert("Please log in to save your selection.");try{const e=await fetch("http://localhost:3000/api/history",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({style:this.selectedStyle,room:this.selectedRoom,color:this.selectedColor})});e.ok?(alert("Selection saved!"),this.$router.push("/about")):alert("Failed to save selection.")}catch(e){alert("Error saving selection.")}}else alert("Please select a style, room, and color before confirming.")}}};const x=(0,d.A)(F,[["render",X]]);var z=x;const Q={class:"header-menu"},P={key:0,class:"header-dropdown"},_={class:"header-dropdown-content"},B={key:0,class:"loading"},G={key:1},j={class:"prompt-text"},q={class:"image-gallery"},W={class:"image-item"},H=["src"],N={class:"download-container"},J={key:0,class:"like-button liked",disabled:""},R={key:2};function V(e,t,o,i,s,l){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",Q,[s.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",P,[t[10]||(t[10]=(0,a.Lk)("button",{class:"header-dropdown-btn"},"Menu",-1)),(0,a.Lk)("div",_,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>l.navigateTo("/"))},"Home"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>l.navigateTo("/profile"))},"Profile"),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>l.navigateTo("/group-chats"))},"Group Chats"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>l.navigateTo("/designers"))},"Designers"),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>l.navigateTo("/competitions"))},"Competitions"),(0,a.Lk)("button",{onClick:t[5]||(t[5]=e=>l.navigateTo("/quiz"))},"Quiz")])])):(0,a.Q3)("",!0),s.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>l.handleLogout&&l.handleLogout(...e))},"Log Out")):(0,a.Q3)("",!0)]),t[18]||(t[18]=(0,a.Lk)("h1",{class:"white-text"},"Inspirations",-1)),s.isLoading?((0,a.uX)(),(0,a.CE)("div",B,t[11]||(t[11]=[(0,a.Lk)("p",{class:"white-text"},"Generating your image, please wait...",-1),(0,a.Lk)("div",{class:"spinner"},null,-1)]))):s.image?((0,a.uX)(),(0,a.CE)("div",G,[t[16]||(t[16]=(0,a.Lk)("h2",{class:"white-text"},"Inspirational Image",-1)),(0,a.Lk)("p",j,(0,n.v_)(s.prompt),1),(0,a.Lk)("div",q,[(0,a.Lk)("div",W,[(0,a.Lk)("img",{src:s.image,alt:"Inspiration"},null,8,H)])]),(0,a.Lk)("div",N,[(0,a.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>l.downloadImage&&l.downloadImage(...e)),class:"download-button"},t[12]||(t[12]=[(0,a.Lk)("i",{class:"download-icon"},null,-1),(0,a.eW)(" Download Image ")])),(0,a.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>l.shareImage&&l.shareImage(...e)),class:"share-button"},t[13]||(t[13]=[(0,a.Lk)("i",{class:"share-icon"},null,-1),(0,a.eW)(" Share Image ")])),s.isLiked?((0,a.uX)(),(0,a.CE)("button",J,t[14]||(t[14]=[(0,a.Lk)("i",{class:"like-icon"},null,-1),(0,a.eW)(" Liked ")]))):((0,a.uX)(),(0,a.CE)("button",{key:1,class:"like-button",onClick:t[9]||(t[9]=(...e)=>l.toggleLike&&l.toggleLike(...e))},t[15]||(t[15]=[(0,a.Lk)("i",{class:"like-icon"},null,-1),(0,a.eW)(" Like ")])))])])):((0,a.uX)(),(0,a.CE)("div",R,t[17]||(t[17]=[(0,a.Lk)("p",{class:"white-text"},"No images found based on your selection.",-1)])))])}o(4603),o(7566),o(8721);var K={name:"AboutPage",data(){return{image:null,prompt:"",isLoading:!1,isAuthenticated:!1,isLiked:!1}},mounted(){this.fetchImage();const e=localStorage.getItem("token");e&&(this.isAuthenticated=!0)},methods:{async fetchImage(){this.isLoading=!0,this.isLiked=!1;try{const e=localStorage.getItem("token"),t=await fetch("http://localhost:3000/api/images",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok){const e=await t.json();return void console.error("Failed to generate image",e)}const o=await t.json();this.image=o.image,this.prompt=o.prompt,await this.checkIfLiked(this.image)}catch(e){console.error("Error fetching image:",e)}finally{this.isLoading=!1}},async checkIfLiked(e){try{const t=localStorage.getItem("token"),o=await U.A.get("http://localhost:3000/api/likes/check",{headers:{Authorization:`Bearer ${t}`},params:{imageUrl:e}});this.isLiked=o.data.liked}catch(t){console.error("Error checking if liked:",t)}},async downloadImage(){try{const e=await U.A.get(this.image,{responseType:"blob"}),t=URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=t,o.setAttribute("download","inspiration.png"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}catch(e){console.error("Failed to download image:",e)}},shareImage(){if(this.image){const e=encodeURIComponent("Check out this inspirational image!"),t=encodeURIComponent("Here is an inspirational image I wanted to share with you: ")+this.image,o=`https://mail.google.com/mail/?view=cm&fs=1&to=&su=${e}&body=${t}`;window.open(o,"_blank")}else alert("No image to share!")},handleLogout(){localStorage.removeItem("token"),this.isAuthenticated=!1,alert("Logged out successfully!"),this.$router.push("/")},navigateTo(e){this.$router.push(e)},async toggleLike(){const e=localStorage.getItem("token"),t={imageUrl:this.image};try{const o=await U.A.post("http://localhost:3000/api/likes",t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});o.data.success&&(this.isLiked=!0)}catch(o){console.error("Error saving like:",o)}}}};const Y=(0,d.A)(K,[["render",V]]);var Z=Y;const ee={class:"profile-page"},te={class:"header-menu"},oe={key:0,class:"header-dropdown"},ie={class:"header-dropdown-content"},ae={class:"profile-field"},ne=["disabled"],se={class:"buttons"},le={class:"profile-field"},re={class:"profile-field"},ce={key:0},de={key:1},ue={class:"sort-container"},ge={class:"history-table"},he=["onClick"],pe={key:1},me={key:2},ke={class:"form-group"},Ce={key:0},ye={key:1,class:"images-container"},Le=["src","onClick"],ve={class:"liked-images"},fe={key:0},be={key:1,class:"images-container"},we=["src","onClick"],Ie=["onClick"],Ee={class:"modal-content"},Me=["src"];function Ae(e,t,o,s,l,r){return(0,a.uX)(),(0,a.CE)("div",ee,[(0,a.Lk)("div",te,[l.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",oe,[t[29]||(t[29]=(0,a.Lk)("button",{class:"header-dropdown-btn"},"Menu",-1)),(0,a.Lk)("div",ie,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>r.navigateTo("/"))},"Home"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>r.navigateTo("/profile"))},"Profile"),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>r.navigateTo("/group-chats"))},"Group Chats"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>r.navigateTo("/designers"))},"Designers"),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>r.navigateTo("/competitions"))},"Competitions"),(0,a.Lk)("button",{onClick:t[5]||(t[5]=e=>r.navigateTo("/quiz"))},"Quiz")])])):(0,a.Q3)("",!0),l.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>r.handleLogout&&r.handleLogout(...e))},"Log Out")):(0,a.Q3)("",!0)]),t[42]||(t[42]=(0,a.Lk)("h1",null,"Profile",-1)),(0,a.Lk)("div",ae,[t[30]||(t[30]=(0,a.Lk)("label",null,"Username:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.username=e),disabled:!l.isEditing},null,8,ne),[[i.Jo,l.username]]),(0,a.Lk)("div",se,[l.isEditing?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[9]||(t[9]=(...e)=>r.saveChanges&&r.saveChanges(...e)),class:"save"},"Save")):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[8]||(t[8]=(...e)=>r.enableEditing&&r.enableEditing(...e)),class:"edit"},"Edit")),l.isEditing?((0,a.uX)(),(0,a.CE)("button",{key:2,onClick:t[10]||(t[10]=(...e)=>r.cancelEditing&&r.cancelEditing(...e)),class:"cancel"},"Cancel")):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",le,[t[31]||(t[31]=(0,a.Lk)("label",null,"Email:",-1)),(0,a.Lk)("span",null,(0,n.v_)(l.email),1)]),(0,a.Lk)("div",re,[t[32]||(t[32]=(0,a.Lk)("label",null,"Designer:",-1)),l.isDesigner?((0,a.uX)(),(0,a.CE)("span",de,"✔ (You are a Designer)")):((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,n.C4)(["designer-checkbox",{checked:l.isDesigner}]),onClick:t[11]||(t[11]=(...e)=>r.toggleDesigner&&r.toggleDesigner(...e))},[l.isDesigner?((0,a.uX)(),(0,a.CE)("span",ce,"✔")):(0,a.Q3)("",!0)],2))]),(0,a.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>r.openHistoryModal&&r.openHistoryModal(...e)),class:"history-btn"},"View Search History"),l.isHistoryModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"modal",onClick:t[16]||(t[16]=(...e)=>r.closeHistoryModal&&r.closeHistoryModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[15]||(t[15]=(0,i.D$)((()=>{}),["stop"]))},[t[36]||(t[36]=(0,a.Lk)("h2",null,"Search History",-1)),(0,a.Lk)("div",ue,[t[34]||(t[34]=(0,a.Lk)("label",{for:"sortOrder"},"Sort by Date: ",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[13]||(t[13]=e=>l.sortOrder=e),onChange:t[14]||(t[14]=(...e)=>r.sortHistory&&r.sortHistory(...e)),id:"sortOrder"},t[33]||(t[33]=[(0,a.Lk)("option",{value:"asc"},"Ascending (ASC)",-1),(0,a.Lk)("option",{value:"desc"},"Descending (DESC)",-1)]),544),[[i.u1,l.sortOrder]])]),(0,a.Lk)("table",ge,[t[35]||(t[35]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Style"),(0,a.Lk)("th",null,"Room"),(0,a.Lk)("th",null,"Color"),(0,a.Lk)("th",null,"Date"),(0,a.Lk)("th",null,"Actions")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.history,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.dateTime},[(0,a.Lk)("td",null,(0,n.v_)(e.style),1),(0,a.Lk)("td",null,(0,n.v_)(e.room),1),(0,a.Lk)("td",null,(0,n.v_)(e.color),1),(0,a.Lk)("td",null,(0,n.v_)(r.formatDate(e.dateTime)),1),(0,a.Lk)("td",null,[(0,a.Lk)("button",{onClick:t=>r.deleteHistory(e.dateTime),class:"delete-btn"},"Delete",8,he)])])))),128))])])])])):(0,a.Q3)("",!0),l.isDesigner?((0,a.uX)(),(0,a.CE)("div",pe,[(0,a.Lk)("button",{onClick:t[17]||(t[17]=(...e)=>r.openUploadModal&&r.openUploadModal(...e)),class:"upload-btn"},"Upload Image")])):(0,a.Q3)("",!0),l.isDesigner?((0,a.uX)(),(0,a.CE)("div",me,[(0,a.Lk)("button",{onClick:t[18]||(t[18]=(...e)=>r.openUploadedImagesModal&&r.openUploadedImagesModal(...e)),class:"upload-btn"},"View Uploaded Images")])):(0,a.Q3)("",!0),l.isUploadModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:3,class:"modal",onClick:t[23]||(t[23]=(...e)=>r.closeUploadModal&&r.closeUploadModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[22]||(t[22]=(0,i.D$)((()=>{}),["stop"]))},[t[39]||(t[39]=(0,a.Lk)("h2",null,"Upload Image",-1)),(0,a.Lk)("form",{onSubmit:t[21]||(t[21]=(0,i.D$)(((...e)=>r.uploadImage&&r.uploadImage(...e)),["prevent"]))},[(0,a.Lk)("div",ke,[t[37]||(t[37]=(0,a.Lk)("label",{for:"imageFile"},"Select Image:",-1)),(0,a.Lk)("input",{type:"file",id:"imageFile",onChange:t[19]||(t[19]=(...e)=>r.handleFileChange&&r.handleFileChange(...e)),accept:".png, .jpg, .jpeg, .gif"},null,32)]),t[38]||(t[38]=(0,a.Lk)("button",{type:"submit",class:"submit-btn"},"Upload",-1)),(0,a.Lk)("button",{type:"button",class:"cancel-btn",onClick:t[20]||(t[20]=(...e)=>r.closeUploadModal&&r.closeUploadModal(...e))},"Cancel")],32)])])):(0,a.Q3)("",!0),l.isUploadedImagesModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:4,class:"modal",onClick:t[26]||(t[26]=(...e)=>r.closeUploadedImagesModal&&r.closeUploadedImagesModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[25]||(t[25]=(0,i.D$)((()=>{}),["stop"]))},[t[40]||(t[40]=(0,a.Lk)("h2",null,"Uploaded Images",-1)),0===l.uploadedImages.length?((0,a.uX)(),(0,a.CE)("div",Ce,"No uploaded images found.")):((0,a.uX)(),(0,a.CE)("div",ye,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.uploadedImages,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"image-item"},[(0,a.Lk)("img",{src:e.url,onClick:t=>r.openImage(e.url),alt:"Uploaded image"},null,8,Le)])))),128))])),(0,a.Lk)("button",{class:"close-btn",onClick:t[24]||(t[24]=(...e)=>r.closeUploadedImagesModal&&r.closeUploadedImagesModal(...e))},"Close")])])):(0,a.Q3)("",!0),(0,a.Lk)("div",ve,[t[41]||(t[41]=(0,a.Lk)("h2",null,"Liked Images",-1)),0===l.likedImages.length?((0,a.uX)(),(0,a.CE)("div",fe,"No liked images found.")):((0,a.uX)(),(0,a.CE)("div",be,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.likedImages,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.imageUrl,class:"image-item"},[(0,a.Lk)("img",{src:e.imageUrl,onClick:t=>r.openImage(e.imageUrl),alt:"Liked image"},null,8,we),(0,a.Lk)("button",{onClick:t=>r.unlikeImage(e.id),class:"unlike-btn"},"Unlike",8,Ie)])))),128))]))]),l.isImageModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:5,class:"modal",onClick:t[28]||(t[28]=(...e)=>r.closeModal&&r.closeModal(...e))},[(0,a.Lk)("div",Ee,[(0,a.Lk)("img",{src:l.currentImageUrl,onClick:t[27]||(t[27]=(...e)=>r.closeModal&&r.closeModal(...e)),class:"modal-image"},null,8,Me)])])):(0,a.Q3)("",!0)])}var Se={name:"ProfilePage",data(){return{username:"",email:"",isEditing:!1,isDesigner:!1,isAuthenticated:!!localStorage.getItem("token"),likedImages:[],isImageModalOpen:!1,currentImageUrl:null,history:[],isHistoryModalOpen:!1,sortOrder:"desc",isUploadModalOpen:!1,selectedFile:null,isUploadedImagesModalOpen:!1,uploadedImages:[]}},async created(){await this.fetchProfileData(),await this.fetchLikedImages(),await this.fetchSearchHistory()},methods:{async fetchProfileData(){const e=localStorage.getItem("token");try{const t=await U.A.get("http://localhost:3000/api/profile",{headers:{Authorization:`Bearer ${e}`}});this.username=t.data.username,this.email=t.data.email,this.isDesigner=t.data.isDesigner}catch(t){console.error("Error fetching profile data:",t),alert("Failed to load profile data.")}},openUploadModal(){this.isUploadModalOpen=!0},closeUploadModal(){this.isUploadModalOpen=!1,this.selectedFile=null},handleFileChange(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{this.selectedFile={base64:e.target.result.split(",")[1],name:t.name}},e.readAsDataURL(t)}},async uploadImage(){if(!this.selectedFile)return void alert("Please select a file before uploading.");const e=localStorage.getItem("token");try{const t=await U.A.post("http://localhost:3000/api/upload",{file:this.selectedFile.base64,filename:this.selectedFile.name},{headers:{Authorization:`Bearer ${e}`}});alert("Image uploaded successfully!"),this.closeUploadModal(),console.log("Uploaded image URL:",t.data.imageUrl)}catch(t){console.error("Error uploading image:",t),alert("Failed to upload image. Please try again.")}},async fetchUploadedImages(){const e=localStorage.getItem("token");try{const t=await U.A.get("http://localhost:3000/api/uploaded-images",{headers:{Authorization:`Bearer ${e}`}});this.uploadedImages=t.data}catch(t){console.error("Error fetching uploaded images:",t),alert("Failed to load uploaded images.")}},openUploadedImagesModal(){this.isUploadedImagesModalOpen=!0,this.fetchUploadedImages()},closeUploadedImagesModal(){this.isUploadedImagesModalOpen=!1,this.uploadedImages=[]},async fetchLikedImages(){const e=localStorage.getItem("token");try{const t=await U.A.get("http://localhost:3000/api/likes",{headers:{Authorization:`Bearer ${e}`}});this.likedImages=t.data.map((e=>({id:e.id,imageUrl:e.imageUrl,likedAt:e.likedAt})))}catch(t){console.error("Error fetching liked images:",t),alert("Failed to load liked images.")}},async fetchSearchHistory(){const e=localStorage.getItem("token");try{const t=await U.A.get("http://localhost:3000/api/history",{headers:{Authorization:`Bearer ${e}`}});this.history=t.data.map((e=>({style:e.style,room:e.room,color:e.color,dateTime:e.dateTime}))),this.sortHistory()}catch(t){console.error("Error fetching search history:",t),alert("Failed to load search history.")}},formatDate(e){const t=new Date(e);return t.toLocaleString()},openHistoryModal(){this.isHistoryModalOpen=!0},closeHistoryModal(){this.isHistoryModalOpen=!1},sortHistory(){"asc"===this.sortOrder?this.history.sort(((e,t)=>new Date(e.dateTime)-new Date(t.dateTime))):this.history.sort(((e,t)=>new Date(t.dateTime)-new Date(e.dateTime)))},enableEditing(){this.isEditing=!0},cancelEditing(){this.isEditing=!1,this.fetchProfileData()},async saveChanges(){const e=localStorage.getItem("token");try{await U.A.put("http://localhost:3000/api/profile",{username:this.username},{headers:{Authorization:`Bearer ${e}`}}),alert("Username updated successfully!"),this.isEditing=!1,this.fetchProfileData()}catch(t){console.error("Error updating username:",t),alert("Failed to update username.")}},async unlikeImage(e){const t=localStorage.getItem("token");try{await U.A.delete(`http://localhost:3000/api/likes/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.likedImages=this.likedImages.filter((t=>t.id!==e)),alert("Image unliked successfully.")}catch(o){console.error("Error unliking image:",o),alert("Failed to unlike image.")}},async toggleDesigner(){if(confirm("By becoming a Designer, your profile will be public and this action cannot be undone. Proceed?"))try{const e=localStorage.getItem("token");await U.A.put("http://localhost:3000/api/profile/designer",{},{headers:{Authorization:`Bearer ${e}`}}),this.isDesigner=!0,alert("You are now a Designer!")}catch(e){console.error("Error setting designer status:",e),alert("Failed to set designer status.")}},openImage(e){this.currentImageUrl=e,this.isImageModalOpen=!0},closeModal(){this.isImageModalOpen=!1,this.currentImageUrl=null},handleLogout(){localStorage.removeItem("token"),this.isAuthenticated=!1,alert("Logged out successfully!"),this.$router.push("/")},navigateTo(e){this.$router.push(e)},async deleteHistory(e){const t=localStorage.getItem("token");try{await U.A.delete(`http://localhost:3000/api/history/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.history=this.history.filter((t=>t.dateTime!==e)),alert("History entry deleted successfully.")}catch(o){console.error("Error deleting history entry:",o),alert("Failed to delete history entry.")}}}};const De=(0,d.A)(Se,[["render",Ae],["__scopeId","data-v-d28fc236"]]);var Xe=De;const Ue={class:"group-chats-page"},Oe={class:"header-menu"},Te={key:0,class:"header-dropdown"},$e={class:"header-dropdown-content"},Fe={class:"group-list"},xe={key:0,class:"group-chat-list"},ze=["onClick"],Qe={key:1},Pe={class:"chat-messages"};function _e(e,t,o,s,l,r){return(0,a.uX)(),(0,a.CE)("div",Ue,[(0,a.Lk)("div",Oe,[l.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",Te,[t[17]||(t[17]=(0,a.Lk)("button",{class:"header-dropdown-btn"},"Menu",-1)),(0,a.Lk)("div",$e,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>r.navigateTo("/"))},"Home"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>r.navigateTo("/profile"))},"Profile"),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>r.navigateTo("/group-chats"))},"Group Chats"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>r.navigateTo("/designers"))},"Designers"),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>r.navigateTo("/competitions"))},"Competitions"),(0,a.Lk)("button",{onClick:t[5]||(t[5]=e=>r.navigateTo("/quiz"))},"Quiz")])])):(0,a.Q3)("",!0),l.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>r.handleLogout&&r.handleLogout(...e))}," Log Out ")):(0,a.Q3)("",!0)]),t[20]||(t[20]=(0,a.Lk)("h1",null,"Group Chats",-1)),(0,a.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>r.openNewGroupModal&&r.openNewGroupModal(...e)),class:"group-chat-btn"},"Create New Group"),(0,a.Lk)("div",Fe,[t[18]||(t[18]=(0,a.Lk)("h2",null,"Existing Groups",-1)),l.groupChats.length?((0,a.uX)(),(0,a.CE)("ul",xe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.groupChats,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,onClick:t=>r.openChat(e),class:"chat-item"},[(0,a.Lk)("h3",null,(0,n.v_)(e.name),1)],8,ze)))),128))])):((0,a.uX)(),(0,a.CE)("p",Qe,"No group chats available."))]),l.isNewGroupModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"modal",onClick:t[11]||(t[11]=(...e)=>r.closeNewGroupModal&&r.closeNewGroupModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[10]||(t[10]=(0,i.D$)((()=>{}),["stop"]))},[t[19]||(t[19]=(0,a.Lk)("h2",null,"Create New Group",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.newGroupName=e),placeholder:"Enter group name"},null,512),[[i.Jo,l.newGroupName]]),(0,a.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>r.createGroup&&r.createGroup(...e))},"Create Group")])])):(0,a.Q3)("",!0),l.isChatOpen?((0,a.uX)(),(0,a.CE)("div",{key:1,class:"modal",onClick:t[16]||(t[16]=(...e)=>r.closeChat&&r.closeChat(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[15]||(t[15]=(0,i.D$)((()=>{}),["stop"]))},[(0,a.Lk)("h2",null,(0,n.v_)(l.activeChat.name),1),(0,a.Lk)("div",Pe,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.messages,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"chat-message"},[(0,a.Lk)("strong",null,(0,n.v_)(e["User.username"])+":",1),(0,a.eW)(" "+(0,n.v_)(e.text),1)])))),128))]),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>l.newMessage=e),placeholder:"Type your message",onKeyup:t[13]||(t[13]=(0,i.jR)(((...e)=>r.sendMessage&&r.sendMessage(...e)),["enter"]))},null,544),[[i.Jo,l.newMessage]]),(0,a.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>r.sendMessage&&r.sendMessage(...e))},"Send")])])):(0,a.Q3)("",!0)])}var Be={name:"GroupChatsPage",data(){return{isAuthenticated:!!localStorage.getItem("token"),isNewGroupModalOpen:!1,isChatOpen:!1,groupChats:[],activeChat:null,newGroupName:"",messages:[],newMessage:""}},async created(){await this.fetchGroupChats()},methods:{async fetchGroupChats(){const e=localStorage.getItem("token");try{const t=await U.A.get("http://localhost:3000/api/groups",{headers:{Authorization:`Bearer ${e}`}});this.groupChats=t.data}catch(t){console.error("Error fetching group chats:",t),alert("Failed to load group chats.")}},openNewGroupModal(){this.isNewGroupModalOpen=!0},closeNewGroupModal(){this.isNewGroupModalOpen=!1,this.newGroupName=""},async createGroup(){const e=localStorage.getItem("token");try{const t=await U.A.post("http://localhost:3000/api/groups",{name:this.newGroupName},{headers:{Authorization:`Bearer ${e}`}});this.groupChats.push(t.data),this.closeNewGroupModal()}catch(t){console.error("Error creating group:",t),alert("Failed to create group.")}},async openChat(e){this.activeChat=e,this.isChatOpen=!0,await this.fetchMessages()},closeChat(){this.isChatOpen=!1,this.messages=[],this.newMessage=""},async fetchMessages(){const e=localStorage.getItem("token");try{const t=await U.A.get(`http://localhost:3000/api/groups/${this.activeChat.id}/messages`,{headers:{Authorization:`Bearer ${e}`}});this.messages=t.data}catch(t){console.error("Error fetching messages:",t),alert("Failed to load messages.")}},async sendMessage(){const e=localStorage.getItem("token");if(""!==this.newMessage.trim())try{const t=await U.A.post(`http://localhost:3000/api/groups/${this.activeChat.id}/messages`,{text:this.newMessage},{headers:{Authorization:`Bearer ${e}`}});this.messages.push(t.data),this.newMessage=""}catch(t){console.error("Error sending message:",t),alert("Failed to send message.")}},handleLogout(){localStorage.removeItem("token"),this.isAuthenticated=!1,alert("Logged out successfully!"),this.$router.push("/")},navigateTo(e){this.$router.push(e)}}};const Ge=(0,d.A)(Be,[["render",_e],["__scopeId","data-v-498c6a0e"]]);var je=Ge;const qe={class:"designers-page"},We={class:"header-menu"},He={key:0,class:"header-dropdown"},Ne={class:"header-dropdown-content"},Je={class:"designers-list"},Re={key:0},Ve=["onClick"],Ke={key:1},Ye={key:0,class:"modal"},Ze={class:"modal-content"},et={key:0,class:"image-carousel"},tt={class:"image-container"},ot=["src"],it={key:1},at=["href"];function nt(e,t,o,i,s,l){return(0,a.uX)(),(0,a.CE)("div",qe,[(0,a.Lk)("div",We,[s.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",He,[t[10]||(t[10]=(0,a.Lk)("button",{class:"header-dropdown-btn"},"Menu",-1)),(0,a.Lk)("div",Ne,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>l.navigateTo("/"))},"Home"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>l.navigateTo("/profile"))},"Profile"),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>l.navigateTo("/group-chats"))},"Group Chats"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>l.navigateTo("/designers"))},"Designers"),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>l.navigateTo("/competitions"))},"Competitions"),(0,a.Lk)("button",{onClick:t[5]||(t[5]=e=>l.navigateTo("/quiz"))},"Quiz")])])):(0,a.Q3)("",!0),s.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>l.handleLogout&&l.handleLogout(...e))}," Log Out ")):(0,a.Q3)("",!0)]),t[11]||(t[11]=(0,a.Lk)("h1",null,"Designers",-1)),(0,a.Lk)("div",Je,[s.designers.length?((0,a.uX)(),(0,a.CE)("ul",Re,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.designers,(e=>((0,a.uX)(),(0,a.CE)("li",{key:e.id,class:"designer-item",onClick:t=>l.showDesignerImages(e)},[(0,a.Lk)("h3",null,(0,n.v_)(e.username),1)],8,Ve)))),128))])):((0,a.uX)(),(0,a.CE)("p",Ke,"No designers found."))]),s.showModal?((0,a.uX)(),(0,a.CE)("div",Ye,[(0,a.Lk)("div",Ze,[(0,a.Lk)("span",{class:"close",onClick:t[7]||(t[7]=(...e)=>l.closeModal&&l.closeModal(...e))},"×"),(0,a.Lk)("h2",null,(0,n.v_)(s.selectedDesigner?.username)+"'s Images",1),s.designerImages.length?((0,a.uX)(),(0,a.CE)("div",et,[(0,a.Lk)("button",{class:"nav-btn left",onClick:t[8]||(t[8]=(...e)=>l.prevImage&&l.prevImage(...e))},"‹"),(0,a.Lk)("div",tt,[(0,a.Lk)("img",{src:s.designerImages[s.currentImageIndex]?.url,alt:"Designer upload",class:"carousel-image"},null,8,ot)]),(0,a.Lk)("button",{class:"nav-btn right",onClick:t[9]||(t[9]=(...e)=>l.nextImage&&l.nextImage(...e))},"›")])):((0,a.uX)(),(0,a.CE)("p",it,"This designer hasn't uploaded any images.")),(0,a.Lk)("a",{href:l.generateEmailLink,target:"_blank",class:"email-btn"}," Contact Designer ",8,at)])])):(0,a.Q3)("",!0)])}var st={name:"DesignersPage",data(){return{isAuthenticated:!!localStorage.getItem("token"),designers:[],showModal:!1,selectedDesigner:null,designerImages:[],currentImageIndex:0,emailLink:""}},async created(){const e=localStorage.getItem("token");e&&(this.isAuthenticated=!0,await this.fetchDesigners(e))},methods:{navigateTo(e){this.$router.push(e)},handleLogout(){localStorage.removeItem("token"),this.isAuthenticated=!1,alert("Logged out successfully!"),this.$router.push("/")},async fetchDesigners(e){try{const t=await U.A.get("http://localhost:3000/api/designers",{headers:{Authorization:`Bearer ${e}`}});this.designers=t.data}catch(t){console.error("Error fetching designers:",t),alert("Failed to load designers.")}},async showDesignerImages(e){if(this.selectedDesigner=e,!e||!e.id||isNaN(e.id))return console.error("Invalid designer ID:",e?.id),void alert("Invalid designer selected.");if(e.email){const t=encodeURIComponent("Greetings!");this.emailLink=`https://mail.google.com/mail/?view=cm&fs=1&to=${e.email}&su=${t}`}else console.error("Designer email not available."),this.emailLink="";try{const t=await U.A.get(`http://localhost:3000/api/images/${e.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(0===t.data.length)return alert("This designer has no uploaded images."),void(this.designerImages=[]);this.designerImages=t.data,this.currentImageIndex=0,this.showModal=!0}catch(t){console.error("Error fetching designer images:",t),alert("Failed to load designer images.")}},closeModal(){this.showModal=!1,this.selectedDesigner=null,this.designerImages=[],this.currentImageIndex=0},nextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.designerImages.length},prevImage(){this.currentImageIndex=(this.currentImageIndex-1+this.designerImages.length)%this.designerImages.length}},computed:{generateEmailLink(){return this.emailLink}}};const lt=(0,d.A)(st,[["render",nt],["__scopeId","data-v-4aca0cb9"]]);var rt=lt;const ct={class:"header-menu"},dt={key:0,class:"header-dropdown"},ut={class:"header-dropdown-content"},gt={class:"quiz-container"},ht={key:0},pt={key:1},mt=["onClick"],kt={key:2,class:"result"};function Ct(e,t,o,i,s,l){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",ct,[s.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",dt,[t[8]||(t[8]=(0,a.Lk)("button",{class:"header-dropdown-btn"},"Menu",-1)),(0,a.Lk)("div",ut,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>l.navigateTo("/"))},"Home"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>l.navigateTo("/profile"))},"Profile"),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>l.navigateTo("/group-chats"))},"Group Chats"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>l.navigateTo("/designers"))},"Designers"),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>l.navigateTo("/competitions"))},"Competitions"),(0,a.Lk)("button",{onClick:t[5]||(t[5]=e=>l.navigateTo("/quiz"))},"Quiz")])])):(0,a.Q3)("",!0),s.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>l.handleLogout&&l.handleLogout(...e))}," Log Out ")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",gt,[t[9]||(t[9]=(0,a.Lk)("h1",null,"Style Quiz",-1)),s.existingStyle?((0,a.uX)(),(0,a.CE)("div",ht,[(0,a.Lk)("h2",null,"Your Style is: "+(0,n.v_)(s.existingStyle),1),(0,a.Lk)("p",null,(0,n.v_)(s.styleDescriptions[s.existingStyle]),1)])):s.currentQuestionIndex<s.questions.length?((0,a.uX)(),(0,a.CE)("div",pt,[(0,a.Lk)("h2",null,(0,n.v_)(s.questions[s.currentQuestionIndex].question),1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.questions[s.currentQuestionIndex].answers,((e,t)=>((0,a.uX)(),(0,a.CE)("ul",{key:t,onClick:e=>l.selectAnswer(t),class:"answer-option"},(0,n.v_)(e),9,mt)))),128))])):((0,a.uX)(),(0,a.CE)("div",kt,[(0,a.Lk)("h2",null,"Your Style is: "+(0,n.v_)(l.resultStyle),1),(0,a.Lk)("p",null,(0,n.v_)(s.styleDescriptions[l.resultStyle]),1),(0,a.Lk)("button",{onClick:t[7]||(t[7]=e=>l.saveResult(l.resultStyle))},"Save Result")]))])],64)}var yt={name:"QuizPage",data(){return{isAuthenticated:!!localStorage.getItem("token"),currentQuestionIndex:0,answers:[],existingStyle:null,questions:[{question:"What's your ideal living room decor?",answers:["Sleek furniture with clean lines and neutral tones","Functional and clutter-free with few statement pieces","Elegant furniture and warm, earthy tones","Colorful textiles, eclectic patterns, and plants","Rich wood furniture and classic decor","Light colors, simple furniture, and cozy textiles"]},{question:"What kind of art would you hang on your walls?",answers:["Abstract, bold designs","Minimalistic black-and-white photography","Vintage posters or oil paintings","Bohemian macrame or handcrafted art","Traditional family portraits or landscapes","Scandinavian geometric patterns or nature photography"]},{question:"What's your preferred type of lighting?",answers:["Recessed or track lighting for a sleek look","Simple and functional with a focus on natural light","Chandeliers or antique lamps","Fairy lights, lanterns, or candles","Classic lamps with elegant shades","Pendant lighting with clean, modern lines"]},{question:"What's your dream sofa?",answers:["A sleek leather sectional","A compact, simple gray or beige sofa","A tufted velvet sofa in deep tones","A colorful or patterned fabric sofa","A high-back, classic-style sofa","A soft, neutral, overstuffed sofa"]},{question:"Which accessory would you add to your space?",answers:["Metallic accents or a glass coffee table","A statement vase or bowl","Vintage clocks or ornate mirrors","Woven rugs, dreamcatchers, or hanging plants","Porcelain figurines or traditional sculptures","Cozy blankets and minimalistic planters"]}],styles:["Modern","Minimalistic","Vintage","Boho","Traditional","Scandinavian"],styleDescriptions:{Modern:"You love sleek, clean designs with neutral tones and cutting-edge furniture.",Minimalistic:"You prefer simple, functional spaces with clutter-free designs.",Vintage:"You enjoy elegant, timeless decor with a nostalgic flair.",Boho:"You thrive in eclectic, colorful spaces filled with art and plants.",Traditional:"You favor rich, classic decor that exudes warmth and elegance.",Scandinavian:"You love light, airy spaces with cozy textiles and functional furniture."}}},computed:{resultStyle(){if(this.existingStyle)return this.existingStyle;const e=this.answers.reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{}),t=Object.keys(e).reduce(((t,o)=>e[t]>e[o]?t:o));return this.styles[t]}},methods:{async fetchQuizResult(){try{const e=localStorage.getItem("token"),t=await U.A.get("http://localhost:3000/api/get-quiz-result",{headers:{Authorization:`Bearer ${e}`}});t.data.length>0&&(this.existingStyle=t.data[0].style)}catch(e){console.error("Error fetching quiz result:",e)}},selectAnswer(e){this.existingStyle||(this.answers.push(e),this.currentQuestionIndex++,this.currentQuestionIndex===this.questions.length&&this.saveResult(this.resultStyle))},navigateTo(e){this.$router.push(e)},handleLogout(){localStorage.removeItem("token"),this.isAuthenticated=!1,alert("Logged out successfully!"),this.$router.push("/")},async saveResult(e){if(!this.existingStyle)try{const t=localStorage.getItem("token");await U.A.post("http://localhost:3000/api/save-quiz-result",{style:e},{headers:{Authorization:`Bearer ${t}`}}),alert("Quiz result saved successfully!")}catch(t){console.error("Error saving quiz result:",t),alert("Failed to save quiz result.")}}},async created(){this.isAuthenticated&&await this.fetchQuizResult()}};const Lt=(0,d.A)(yt,[["render",Ct],["__scopeId","data-v-4fee5c62"]]);var vt=Lt;const ft={class:"header-menu"},bt={key:0,class:"header-dropdown"},wt={class:"header-dropdown-content"},It={class:"competitions"},Et={class:"form-group"},Mt={class:"form-group"},At={class:"form-group"},St={class:"competition-list"},Dt={class:"image-container"},Xt=["src","onClick"],Ut=["onClick"],Ot=["onClick"],Tt={key:2},$t={key:3},Ft={key:4},xt={class:"form-group"},zt={key:0,class:"form-group"},Qt=["value"],Pt=["src"];function _t(e,t,o,s,l,r){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",ft,[l.isAuthenticated?((0,a.uX)(),(0,a.CE)("div",bt,[t[27]||(t[27]=(0,a.Lk)("button",{class:"header-dropdown-btn"},"Menu",-1)),(0,a.Lk)("div",wt,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>r.navigateTo("/"))},"Home"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>r.navigateTo("/profile"))},"Profile"),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>r.navigateTo("/group-chats"))},"Group Chats"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>r.navigateTo("/designers"))},"Designers"),(0,a.Lk)("button",{onClick:t[4]||(t[4]=e=>r.navigateTo("/competitions"))},"Competitions"),(0,a.Lk)("button",{onClick:t[5]||(t[5]=e=>r.navigateTo("/quiz"))},"Quiz")])])):(0,a.Q3)("",!0),l.isAuthenticated?((0,a.uX)(),(0,a.CE)("button",{key:1,class:"logout-btn",onClick:t[6]||(t[6]=(...e)=>r.handleLogout&&r.handleLogout(...e))},"Log Out")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",It,[t[37]||(t[37]=(0,a.Lk)("h1",null,"Competitions",-1)),l.isDesigner?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[7]||(t[7]=(...e)=>r.openAddCompetitionModal&&r.openAddCompetitionModal(...e))},"Add Competition")):(0,a.Q3)("",!0),t[38]||(t[38]=(0,a.Lk)("h2",null,"Participate in the competition by writing what you see in the picture.",-1)),l.isAddCompetitionModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:1,class:"modal",onClick:t[14]||(t[14]=(...e)=>r.closeAddCompetitionModal&&r.closeAddCompetitionModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[13]||(t[13]=(0,i.D$)((()=>{}),["stop"]))},[(0,a.Lk)("form",{onSubmit:t[12]||(t[12]=(0,i.D$)(((...e)=>r.submitCompetition&&r.submitCompetition(...e)),["prevent"]))},[(0,a.Lk)("div",Et,[t[28]||(t[28]=(0,a.Lk)("label",{for:"competitionName"},"Name:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"competitionName","onUpdate:modelValue":t[8]||(t[8]=e=>l.newCompetition.name=e),required:""},null,512),[[i.Jo,l.newCompetition.name]])]),(0,a.Lk)("div",Mt,[t[29]||(t[29]=(0,a.Lk)("label",{for:"competitionDate"},"End date:",-1)),(0,a.bo)((0,a.Lk)("input",{type:"date",id:"competitionDate","onUpdate:modelValue":t[9]||(t[9]=e=>l.newCompetition.date=e),required:""},null,512),[[i.Jo,l.newCompetition.date]])]),(0,a.Lk)("div",At,[t[30]||(t[30]=(0,a.Lk)("label",{for:"competitionImage"},"Image:",-1)),(0,a.Lk)("input",{type:"file",id:"competitionImage",onChange:t[10]||(t[10]=(...e)=>r.handleImageUpload&&r.handleImageUpload(...e)),accept:"image/*",required:""},null,32)]),t[31]||(t[31]=(0,a.Lk)("button",{type:"submit",class:"submit-btn"},"Submit",-1)),(0,a.Lk)("button",{type:"button",class:"cancel-btn",onClick:t[11]||(t[11]=(...e)=>r.closeAddCompetitionModal&&r.closeAddCompetitionModal(...e))},"Cancel")],32)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",St,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.competitions,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"competition-box"},[(0,a.Lk)("h3",null,(0,n.v_)(e.name),1),(0,a.Lk)("p",null,"Open until: "+(0,n.v_)(r.formatDate(e.date)),1),(0,a.Lk)("div",Dt,[e.image?((0,a.uX)(),(0,a.CE)("img",{key:0,src:"data:image/jpeg;base64,"+e.image,alt:"Competition Image",width:"100",onClick:t=>r.openImageModal(e.image)},null,8,Xt)):(0,a.Q3)("",!0)]),r.isCompetitionOpen(e.date)?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"join-btn",onClick:t=>r.openJoinModal(e.id)}," Join competition ",8,Ut)):(0,a.Q3)("",!0),r.isCompetitionOpen(e.date)||!l.isDesigner||e.winner?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t=>r.openPickWinnerModal(e)}," Pick Winner ",8,Ot)),e.winner?((0,a.uX)(),(0,a.CE)("div",Tt,[t[32]||(t[32]=(0,a.Lk)("h4",null,"Winning description:",-1)),(0,a.Lk)("p",null,[(0,a.Lk)("strong",null,(0,n.v_)(e.winner.User.username)+":",1),(0,a.eW)(" "+(0,n.v_)(e.winner.description),1)])])):e.descriptions&&e.descriptions.length>0?((0,a.uX)(),(0,a.CE)("div",$t,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.descriptions,(e=>((0,a.uX)(),(0,a.CE)("p",{key:e.id},[(0,a.Lk)("strong",null,(0,n.v_)(e.User.username)+":",1),(0,a.eW)(" "+(0,n.v_)(e.description),1)])))),128))])):((0,a.uX)(),(0,a.CE)("p",Ft,"No descriptions yet."))])))),128))]),l.isJoinModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:2,class:"modal",onClick:t[19]||(t[19]=(...e)=>r.closeJoinModal&&r.closeJoinModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[18]||(t[18]=(0,i.D$)((()=>{}),["stop"]))},[(0,a.Lk)("form",{onSubmit:t[17]||(t[17]=(0,i.D$)(((...e)=>r.submitJoinCompetition&&r.submitJoinCompetition(...e)),["prevent"]))},[(0,a.Lk)("div",xt,[t[33]||(t[33]=(0,a.Lk)("label",{for:"competitionDescription"},"Description:",-1)),(0,a.bo)((0,a.Lk)("textarea",{id:"competitionDescription","onUpdate:modelValue":t[15]||(t[15]=e=>l.joinDescription=e),required:""},null,512),[[i.Jo,l.joinDescription]])]),t[34]||(t[34]=(0,a.Lk)("button",{type:"submit",class:"submit-btn"},"Submit",-1)),(0,a.Lk)("button",{type:"button",class:"cancel-btn",onClick:t[16]||(t[16]=(...e)=>r.closeJoinModal&&r.closeJoinModal(...e))},"Cancel")],32)])])):(0,a.Q3)("",!0),l.isPickWinnerModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:3,class:"modal",onClick:t[24]||(t[24]=(...e)=>r.closePickWinnerModal&&r.closePickWinnerModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[23]||(t[23]=(0,i.D$)((()=>{}),["stop"]))},[t[36]||(t[36]=(0,a.Lk)("h2",null,"Select the Winner",-1)),l.selectedCompetition?((0,a.uX)(),(0,a.CE)("div",zt,[t[35]||(t[35]=(0,a.Lk)("label",{for:"winnerDescription"},"Select Description:",-1)),(0,a.bo)((0,a.Lk)("select",{id:"winnerDescription","onUpdate:modelValue":t[20]||(t[20]=e=>l.selectedDescription=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.selectedCompetition.descriptions,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.id},(0,n.v_)(e.User.username)+": "+(0,n.v_)(e.description),9,Qt)))),128))],512),[[i.u1,l.selectedDescription]])])):(0,a.Q3)("",!0),(0,a.Lk)("button",{onClick:t[21]||(t[21]=(...e)=>r.submitWinner&&r.submitWinner(...e))},"Submit"),(0,a.Lk)("button",{onClick:t[22]||(t[22]=(...e)=>r.closePickWinnerModal&&r.closePickWinnerModal(...e))},"Cancel")])])):(0,a.Q3)("",!0),l.isImageModalOpen?((0,a.uX)(),(0,a.CE)("div",{key:4,class:"image-modal",onClick:t[26]||(t[26]=(...e)=>r.closeImageModal&&r.closeImageModal(...e))},[(0,a.Lk)("div",{class:"modal-content",onClick:t[25]||(t[25]=(0,i.D$)((()=>{}),["stop"]))},[(0,a.Lk)("img",{src:"data:image/jpeg;base64,"+l.selectedImage,alt:"Competition Image",class:"modal-image"},null,8,Pt)])])):(0,a.Q3)("",!0)])])}var Bt={name:"CompetitionsPage",data(){return{isAuthenticated:!1,isDesigner:!1,isAddCompetitionModalOpen:!1,isImageModalOpen:!1,isJoinModalOpen:!1,isPickWinnerModalOpen:!1,selectedImage:null,joinDescription:"",competitionIdToJoin:null,selectedCompetition:null,selectedDescription:null,newCompetition:{name:"",date:"",image:null},competitions:[]}},methods:{isCompetitionOpen(e){const t=new Date,o=new Date(e);return o>=t},async checkIfDesigner(){try{const e=localStorage.getItem("token");if(!e)return;const t=await U.A.get("http://localhost:3000/api/profile",{headers:{Authorization:`Bearer ${e}`}});this.isDesigner=t.data.isDesigner||!1}catch(e){console.error("Error checking designer status:",e)}},async fetchCompetitions(){try{const e=await U.A.get("http://localhost:3000/api/competitions"),t=e.data;for(const o of t)o.descriptions=await this.fetchDescriptions(o.id),o.winner&&(o.winner=await this.fetchWinnerDescription(o.winner));this.competitions=t}catch(e){console.error("Error fetching competitions:",e)}},async fetchDescriptions(e){try{const t=await U.A.get(`http://localhost:3000/api/competitions/${e}/descriptions`);return t.data}catch(t){return console.error("Error fetching descriptions:",t),alert("Failed to load descriptions for the competition."),[]}},async fetchWinnerDescription(e){try{const t=await U.A.get(`http://localhost:3000/api/descriptions/${e}`);return t.data}catch(t){return console.error("Error fetching winner description:",t),null}},openJoinModal(e){this.competitionIdToJoin=e,this.isJoinModalOpen=!0},closeJoinModal(){this.isJoinModalOpen=!1,this.joinDescription=""},async submitJoinCompetition(){try{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t={description:this.joinDescription};console.log("Sending data:",t);const o=await U.A.post(`http://localhost:3000/api/competitions/${this.competitionIdToJoin}/join`,t,{headers:{Authorization:`Bearer ${e}`}});console.log(o.data),alert("You have successfully joined the competition!"),this.fetchCompetitions(),this.closeJoinModal()}catch(e){const t=e.response?e.response.data.message:e.message;console.error("Error joining competition:",t),alert(`Failed to join the competition: ${t}`)}},openAddCompetitionModal(){this.isAddCompetitionModalOpen=!0},closeAddCompetitionModal(){this.isAddCompetitionModalOpen=!1,this.newCompetition={name:"",date:"",image:null}},handleImageUpload(e){const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{this.newCompetition.image=e.target.result.split(",")[1]},e.readAsDataURL(t)}},async submitCompetition(){try{const e=localStorage.getItem("token");await U.A.post("http://localhost:3000/api/competitions",{name:this.newCompetition.name,date:this.newCompetition.date,image:this.newCompetition.image},{headers:{Authorization:`Bearer ${e}`}}),alert("Competition added successfully!"),this.closeAddCompetitionModal(),this.fetchCompetitions()}catch(e){console.error("Error adding competition:",e),alert("Failed to add competition. Please try again.")}},formatDate(e){const t={year:"numeric",month:"2-digit",day:"2-digit"},o=new Date(e);return o.toLocaleDateString(void 0,t)},openImageModal(e){this.selectedImage=e,this.isImageModalOpen=!0},closeImageModal(){this.isImageModalOpen=!1,this.selectedImage=null},openPickWinnerModal(e){this.selectedCompetition=e,this.isPickWinnerModalOpen=!0},closePickWinnerModal(){this.isPickWinnerModalOpen=!1,this.selectedCompetition=null,this.selectedDescription=null},async submitWinner(){if(this.selectedDescription)try{const e=localStorage.getItem("token");await U.A.post(`http://localhost:3000/api/competitions/${this.selectedCompetition.id}/pick-winner`,{winner:this.selectedDescription},{headers:{Authorization:`Bearer ${e}`}}),alert("Winner selected successfully!"),this.closePickWinnerModal(),this.fetchCompetitions()}catch(e){console.error("Error selecting winner:",e),alert("Failed to select winner. Please try again.")}},navigateTo(e){this.$router.push(e)},handleLogout(){localStorage.removeItem("token"),this.isAuthenticated=!1,alert("Logged out successfully!"),this.$router.push("/")}},created(){const e=localStorage.getItem("token");this.isAuthenticated=!!e,this.checkIfDesigner(),this.fetchCompetitions()}};const Gt=(0,d.A)(Bt,[["render",_t],["__scopeId","data-v-a590f908"]]);var jt=Gt;const qt=[{path:"/",component:z},{path:"/about",component:Z},{path:"/profile",component:Xe},{path:"/group-chats",component:je},{path:"/designers",component:rt},{path:"/quiz",component:vt},{path:"/competitions",component:jt}],Wt=(0,h.aE)({history:(0,h.LA)(),routes:qt});var Ht=Wt;(0,i.Ef)(g).use(Ht).mount("#app")},2004:function(e,t,o){e.exports=o.p+"img/background1.8c4ce107.jpeg"},812:function(e,t,o){e.exports=o.p+"img/background2.f93aee0d.jpg"},6073:function(e,t,o){e.exports=o.p+"img/background3.6e5fb701.jpg"}},t={};function o(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,i,a,n){if(!i){var s=1/0;for(d=0;d<e.length;d++){i=e[d][0],a=e[d][1],n=e[d][2];for(var l=!0,r=0;r<i.length;r++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](i[r])}))?i.splice(r--,1):(l=!1,n<s&&(s=n));if(l){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,a,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,n,s=i[0],l=i[1],r=i[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(r)var d=r(o)}for(t&&t(i);c<s.length;c++)n=s[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(d)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[504],(function(){return o(6792)}));i=o.O(i)})();
//# sourceMappingURL=app.23abbb5e.js.map